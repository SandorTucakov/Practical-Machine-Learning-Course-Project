<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Lucida Console";
	panose-1:2 11 6 9 4 5 4 2 2 4;}
@font-face
	{font-family:"\@SimSun";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	text-align:center;
	line-height:106%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Times New Roman",serif;
	color:black;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:2.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:106%;
	page-break-after:avoid;
	font-size:13.0pt;
	font-family:"Times New Roman",serif;
	color:black;}
pre
	{mso-style-link:"HTML Preformatted Char";
	margin-right:0in;
	margin-left:0in;
	font-size:10.0pt;
	font-family:"Courier New";}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:.5in;
	line-height:106%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	line-height:106%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	line-height:106%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:.5in;
	line-height:106%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Times New Roman",serif;
	color:black;
	font-weight:bold;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Times New Roman",serif;
	color:black;
	font-weight:bold;}
span.HTMLPreformattedChar
	{mso-style-name:"HTML Preformatted Char";
	mso-style-link:"HTML Preformatted";
	font-family:"Courier New";}
.MsoChpDefault
	{font-family:"Calibri",sans-serif;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:107%;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US>

<div class=WordSection1>

<p class=MsoNormal align=center style='margin-top:12.0pt;margin-right:0in;
margin-bottom:0in;margin-left:0in;margin-bottom:.0001pt;text-align:center;
line-height:106%;page-break-after:avoid'><b><span style='font-size:16.0pt;
line-height:106%;font-family:"Times New Roman",serif;color:black'>Report for
the coursera project: Practical Machine Learning</span></b></p>

<p class=MsoNormal style='line-height:106%'> </p>

<p class=MsoNormal style='margin-top:2.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:106%;
page-break-after:avoid'><b><span style='font-size:13.0pt;line-height:106%;
font-family:"Times New Roman",serif;color:black'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></b><b><span style='font-size:13.0pt;line-height:106%;font-family:
"Times New Roman",serif;color:black'>Brief introduction</span></b></p>

<p class=MsoNormalCxSpMiddle style='margin-left:.5in;line-height:200%'>&nbsp;</p>

<p class=MsoNormalCxSpMiddle style='margin-left:.5in;line-height:200%'>The
random forest model is used.</p>

<p class=MsoNormalCxSpMiddle style='margin-left:.5in;line-height:200%'>Mtry
parameter is set as 7.</p>

<p class=MsoNormalCxSpMiddle style='margin-left:.5in;line-height:200%'>5-fold
cross validation is used to calculate the out-of-sample error rate, which is
0.41%.</p>

<p class=MsoNormalCxSpMiddle style='margin-left:.5in;line-height:200%'>The 20
test cases are also predicted.</p>

<p class=MsoNormalCxSpMiddle style='margin-left:.5in;line-height:200%'>Please
see the code for detailed information.</p>

<p class=MsoNormalCxSpMiddle style='margin-left:.5in;line-height:106%'> </p>

<p class=MsoNormal style='margin-top:2.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;line-height:106%;
page-break-after:avoid'><b><span style='font-size:13.0pt;line-height:106%;
font-family:"Times New Roman",serif;color:black'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></b><b><span style='font-size:13.0pt;line-height:106%;font-family:
"Times New Roman",serif;color:black'>R Code</span></b></p>

<p class=MsoNormal style='margin-top:2.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.5in;margin-bottom:.0001pt;line-height:106%;page-break-after:avoid'><b><span
style='font-size:13.0pt;line-height:106%;font-family:"Times New Roman",serif;
color:black'>&nbsp;</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'>library('caret')</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'>setwd('D:/Liang
Tang/Scalable Machine Learning')</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'># import data</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'>data =
read.csv('pml-training.csv')</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'>true_testing =
read.csv('pml-testing.csv')</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'># Filtering the
variables</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'>data = data[,-1]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'>dataFilter =
data[,c(7:9,36:48,59:67,83:85,112:123,150:159)]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'>dataFilter =
dataFilter[, colSums(is.na(dataFilter)) == 0 ]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'>sum(complete.cases(dataFilter))</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'> </p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'># Use 5-fold cross
validation to calculate the out of sample error</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'>folds = createFolds(y
= dataFilter$classe,k = 5, list = TRUE, returnTrain = TRUE)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'>accuracy =
vector(mode= 'numeric',length = 5)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'>for (i in 1:5){</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'>  training =
dataFilter[folds[[i]],]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'>  testing =
dataFilter[-folds[[i]],]</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'>  rf1 &lt;-
randomForest(classe~., data=training, mtry=7, importance = TRUE)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'>  prediction_test =
predict(rf1, testing)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'> 
table(testing$classe,prediction_test)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'>  error =
testing$classe != prediction_test</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'>  accuracy[i] =
sum(error)/length(testing$classe)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'>}</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'>outofsample_Accuacy
= mean(accuracy)<span style='font-size:12.0pt;line-height:150%;font-family:
SimSun'> </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%;background:white'><b><span
style='font-size:10.0pt;line-height:150%;font-family:"Lucida Console";
color:black;background:white'>[1] 0.0041277</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'> </p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'># Create random
forest model using all training data</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'>rf &lt;-
randomForest(classe~., data=training, mtry=7, importance = TRUE)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'># predict for the 20
samples</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'>answers =
predict(rf, true_testing)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'># Create files for
each of teh 20 samples</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'>pml_write_files =
function(x){</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'>  n = length(x)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'>  for(i in 1:n){</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'>    filename =
paste0(&quot;problem_id_&quot;,i,&quot;.txt&quot;)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'>   
write.table(x[i],file=filename,quote=FALSE,row.names=FALSE,col.names=FALSE)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'>  }</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'>}</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'>pml_write_files(answers)</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:33.0pt;margin-bottom:.0001pt;line-height:150%'> </p>

<p class=MsoNormal>&nbsp;</p>

</div>

</body>

</html>
